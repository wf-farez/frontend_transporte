<p-dialog
  header="{{ modalType }} Viaje"
  [(visible)]="displayAddEditModal"
  [modal]="true"
  [style]="{ 'width': '60vw', 'height': '100vh' }"
  [draggable]="false"
  [resizable]="false"
  (onHide)="closeModal()"
>

<p> Seleccione Ruta </p>

      <div class="flex justify-content-between">
          <div class="flex justify-content-between">

            <select [(ngModel)]="selectedFilter">
              <option value="nombreCompania">Nombre de compania</option>
              <option value="nombreRuta">Nombre de Ruta</option>
              <option value="origenRuta">Origen de Ruta</option>
              <option value="destinoRuta">Destino de Ruta</option>

          </select>

          <input type="text" pInputText placeholder="SearchR " (input)="filterByR($event)" />  
      </div>

      <div class="field">
        <!-- <label class="block" for="idRuta">Ruta Seleccionada nombre: {{ selectedEmpleadoC?.cedula }}</label> -->
      </div>

  </div>

  <p-table [value]="rutas" 
  styleClass="custom-table p-datatable-gridlines"
  >  
    <ng-template pTemplate="header">
    <tr>
      <!-- <th>IDRUTA</th> -->
      <!-- <th>COMPANIA</th> -->
      <th>RUTA</th>
      <th>ORIGEN</th>
      <th>DESTINO</th>
      <!-- <th>OPCIONES</th> -->
      <!-- <th>PARADAS</th> -->
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-ruta >
  <tr >
    <!-- <td>{{ ruta.idRuta }}</td> -->
    <!-- <td>{{ ruta.nombreCompania}}</td> -->
    <td>{{ ruta.nombreRuta}}</td>
    <td>{{ ruta.origenRuta }}</td>
    <td>{{ ruta.destinoRuta}}</td>
  <td>
      <p-button
          (click)="seleccionarRuta(ruta)"
          icon="pi pi-check"
        ></p-button>
    </td>
  </tr>

  </ng-template>

</p-table>




<form [formGroup]="viajeForm" class="viaje-form"  style=" margin-top: 90px"  >
  <div class="field">
    <label class="block" for="codigoViaje">CÃ³digo Viaje</label>
    <input type="text" pInputText id="codigoViaje" formControlName="codigoViaje" />
    <small
      class="p-error block"
      *ngIf="
        viajeForm.controls['codigoViaje'].invalid &&
        viajeForm.controls['codigoViaje'].dirty
      "
      >Campo requerido</small
    >
  </div>


<div class="flex-container">

  <div class="field">

    <label class="block" for="fecha">Fecha</label>
    <div  class="card flex justify-content-center ">

      <p-calendar formControlName="fecha" 
      [iconDisplay]="'input'" 
      [showIcon]="true" 
      inputId="icondisplay"
      ></p-calendar>

     <small class="p-error block" 
      *ngIf="viajeForm.controls['fecha'].invalid 
      && viajeForm.controls['fecha'].dirty">
        Campo requerido
      </small> 

    </div>

  </div>
 



  <div class="field">

    <label class="block" for="horaInicio">Hora de Inicio</label>
    <p-calendar formControlName="horaInicio"
    inputId="calendar-timeonly" 
    [timeOnly]="true" ></p-calendar>

    <small
      class="p-error block"
      *ngIf="
        viajeForm.controls['horaInicio'].invalid &&
        viajeForm.controls['horaInicio'].dirty
      "
      >Campo requerido</small
    >
  </div>

  <div class="field">
    <label class="block" for="horaFin">Hora de Fin</label>
    <p-calendar formControlName="horaFin"
    inputId="calendar-timeonly" 
    [timeOnly]="true" ></p-calendar>
  
    <small
      class="p-error block"
      *ngIf="
        viajeForm.controls['horaFin'].invalid &&
        viajeForm.controls['horaFin'].dirty
      "
      >Campo requerido</small
    >
  </div>
</div>

  <div class="flex-container">
  <div class="field">
    <label class="block" for="precioNormal">Precio Normal</label>
    <p-inputNumber
      id="price"
      formControlName="precioNormal"
      class="block"
    ></p-inputNumber>
    <small
      class="p-error block"
      *ngIf="
        viajeForm.controls['precioNormal'].invalid &&
        viajeForm.controls['precioNormal'].dirty
      "
      >Field is required</small
    >
  </div>


  <div class="field">
    <label class="block" for="precioDiferenciado">Precio Diferenciado</label>
    <p-inputNumber
      id="price"
      formControlName="precioDiferenciado"
      class="block"
    ></p-inputNumber>
    <small
      class="p-error block"
      *ngIf="
        viajeForm.controls['precioDiferenciado'].invalid &&
        viajeForm.controls['precioDiferenciado'].dirty
      "
      >Field is required</small
    >
  </div>

</div>

</form>



<p style=" margin-top: 50px"  > Seleccione Conductor </p>

      <div class="flex justify-content-between">
          <div class="flex justify-content-between">

          <select [(ngModel)]="selectedFilter">
              <option value="cedula">Cedula</option>
              <option value="nombre">Nombres</option>
              <option value="apellido">Apellidos</option>
              <option value="tipo">Tipo</option>
          </select>
          <input type="text" pInputText placeholder="Search " (input)="filterBy($event)" />  
      </div>
      <div class="field">
        <label class="block" for="idConductor">Conductor Seleccionado Cedula: {{ selectedEmpleadoC?.cedula }}</label>
      </div>

  </div>

<p-table [value]="empleados" 
 styleClass="custom-table p-datatable-gridlines"
 >  
  <ng-template pTemplate="header">
    <tr>
      <!-- <th>IDEMPLEADO</th> -->
      <th>CEDULA</th>
      <th>NOMBRES</th>
      <th>APELLIDOS</th>
      <!-- <th>TIPO</th> -->
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-empleado >
    <tr >
      <!-- <td>{{ empleado.idEmpleado }}</td> -->
      <td>{{ empleado.cedula}}</td>
      <td>{{ empleado.nombre }}</td>
      <td>{{ empleado.apellido }}</td>
      <td>{{ empleado.tipo}}</td> 
    <td>
      <p-button
          (click)="seleccionarConductor(empleado)"
          icon="pi pi-check"
        ></p-button>
    </td>
  </tr>

  </ng-template>

</p-table>




<p style=" margin-top: 90px"  > Seleccione Ayudante </p>


  <div class="flex justify-content-between">
      <div class="flex justify-content-between">

      <select [(ngModel)]="selectedFilter">
          <option value="cedula">Cedula</option>
          <option value="nombre">Nombres</option>
          <option value="apellido">Apellidos</option>
          <option value="tipo">Tipo</option>
      </select>
      <input type="text" pInputText placeholder="Search " (input)="filterBy($event)" />
  </div>

  <div class="field">
    <label class="block" for="idAyudante">Ayudante Seleccionado Cedula: {{ selectedEmpleadoA?.cedula }}</label>
  </div>



</div>



<p-table [value]="empleados"
styleClass="custom-table p-datatable-gridlines"

>  
<ng-template pTemplate="header">
<tr>
  <!-- <th>IDEMPLEADO</th> -->
  <th>CEDULA</th>
  <th>NOMBRES</th>
  <th>APELLIDOS</th>
  <!-- <th>TIPO</th> -->
</tr>
</ng-template>
<ng-template pTemplate="body" let-empleado >
<tr >
  <!-- <td>{{ empleado.idEmpleado }}</td> -->
  <td>{{ empleado.cedula}}</td>
  <td>{{ empleado.nombre }}</td>
  <td>{{ empleado.apellido }}</td>
   <td>{{ empleado.tipo}}</td> 
<td>
  <p-button
      (click)="seleccionarAyudante(empleado)"
      icon="pi pi-check"
    ></p-button>
</td>
</tr>

</ng-template>

</p-table>



<p style=" margin-top: 90px"  > Seleccione Unidad </p>

      <div class="flex justify-content-between">
          <div class="flex justify-content-between">
          <select [(ngModel)]="selectedFilterU">
              <option value="codigo_unidad">Codigo de Unidad</option>
              <option value="placa">Placa</option>
              <option value="cantidad_asientos">Cantidad de Asientos</option>
              <option value="estado">Estado</option>
          </select>

          <input type="text" pInputText placeholder="SearchU " (input)="filterByU($event)" />
        
      </div>

      <div class="field">
        <label class="block" for="idUnidad">Unidad Seleccionada Placa: {{ selectedUnidad?.placa }}</label>
      </div>
  </div>

<p-table [value]="unidades" 
styleClass="custom-table p-datatable-gridlines"
>  
  <ng-template pTemplate="header">
    <tr>
      <!-- <th>ID_UNIDAD</th> -->
      <th>CODIGO_UNIDAD</th>
      <th>PLACA</th>
      <th>CANTIDAD ASIENTOS</th>
      <th>ESTADO</th>
    </tr>

  </ng-template>
  <ng-template pTemplate="body" let-unidad >
    <tr >
      <!-- <td>{{ unidad.idUnidad }}</td> -->
      <td>{{ unidad.codigoUnidad}}</td>
      <td>{{ unidad.placa }}</td>
      <td>{{ unidad.cantidadAsientos }}</td>
      <td>{{ unidad.estado}}</td>
      <td>
        <p-button
            (click)="seleccionarUnidad(unidad)"
           
            icon="pi pi-check"
          ></p-button>
      </td>
  </tr>

  </ng-template>
</p-table>

<ng-template pTemplate="footer">

        <p-button
          (click)="closeModal()"
          label="Cancel"
          styleClass="p-button-text"
        ></p-button>
        
        <p-button
          (click)="addEditViaje()"
          label="{{ modalType }}"
          [disabled]="viajeForm.invalid"
        ></p-button>

</ng-template>

 
</p-dialog> 